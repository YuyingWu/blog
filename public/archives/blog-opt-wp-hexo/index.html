

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="description" content="">

	
<link rel="stylesheet" href="/blog//css/post.css">


	<title>博客优化之路：从WordPress到Hexo - 伍酱</title>

	<!--[if lte IE 8]>
        <script>
            (function(){
                var e="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
                i=e.length;
                while(i--){document.createElement(e[i])}
             })();
        </script>
    <![endif]-->
</head>
<body class="page-post">

<script async>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-74424222-1', 'auto');
	ga('send', 'pageview');
</script>


<!--[if lte IE 8]>
    <p class="browserupgrade">貌似你还在用<strong>低版本IE</strong>浏览器喔~ 为了更好的体验，去下载一个<a href="https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=0&rsv_idx=1&tn=baidu&wd=chrome&rsv_pq=c275ed8c0000204b&rsv_t=b404%2BiFxvZfvn%2FqqBMyJKwHyShj%2FipQgL7TfJsGKrHxZhoWCUisbVukJsNw&rqlang=cn&rsv_enter=1&rsv_sug3=6&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&inputT=891&rsv_sug4=891" target="_blank">最新版Chrome</a>吧 ：）</p>
<![endif]-->


	<header>
	<section class="u-clearfix header__container">
		<nav class="grid-r header__nav--list">
			
				<a href="/blog/">Blog</a>
			
				<a href="/blog/archives/">Archive</a>
			
				<a href="/blog/about.html">About</a>
			
		</nav>

		<h1 class="grid">
			<a href="/">伍酱</a>
		</h1>
	</section>
</header><!-- /header -->


<div id="content">
	<div class="center">
		<div class="main-col">
			
	
	<article class="article article-detail post article-post">
	<div class="post-content">
		<header>
			
	
		
			<h1 class="title" data-role="articleTitle">博客优化之路：从WordPress到Hexo</h1>
		
	

			<div class="post__meta">
	<time datetime="2016-04-06T09:43:19.000Z">2016-04-06</time>

	
</div>
			
		</header>

		<div class="entry">
			<aside class="wgt-toc">
				<header>
					<p><i class="iconfont icon-folder"></i>&nbsp;文章大纲</p>
				</header>
				<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#改造后的性能优化："><span class="toc-number">1.</span> <span class="toc-text">改造后的性能优化：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hexo（官方主题Landscape"><span class="toc-number">1.1.</span> <span class="toc-text">Hexo（官方主题Landscape)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WordPress（2016年官方主题twenty-sixteen）"><span class="toc-number">1.2.</span> <span class="toc-text">WordPress（2016年官方主题twenty-sixteen）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-导出WordPress数据"><span class="toc-number">2.</span> <span class="toc-text">1. 导出WordPress数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-搭建Hexo"><span class="toc-number">3.</span> <span class="toc-text">2. 搭建Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-WordPress到Hexo的迁移"><span class="toc-number">4.</span> <span class="toc-text">3.WordPress到Hexo的迁移</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-媒体文件存在哪？"><span class="toc-number">5.</span> <span class="toc-text">4. 媒体文件存在哪？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">6.</span> <span class="toc-text">Reference</span></a></li></ol>
			</aside>
			<p>经历了WordPress、jekyll、Hexo、WordPress，前几天我还是把博客迁回到Hexo，因为WordPress太庞大了，想修改主题优化下页面性能或者加些个性化的小组件吧，也没折腾出一个前端构建的流程，开发起来很麻烦，放弃治疗啦，于是又回归到<strong>静态博客</strong>的怀抱。</p>
<p>最近在公司做一些性能优化的工作，重构历史代码和优化打包策略啥的，每次看到优化效果都会觉得很爽，那些数字太漂亮，弄上瘾了，于是拿自己的博客接着改！</p>
<p>虽然从WordPress到Hexo，我啥也没做，只是做了个“系统选型”的抉择，从重量级到轻量级选手，但是从数据看来，我觉得改得还是非常对的，以后站点会有更多的可玩性 :)</p>
<a id="more"></a>
<h2 id="改造后的性能优化："><a href="#改造后的性能优化：" class="headerlink" title="改造后的性能优化："></a>改造后的性能优化：</h2><ul>
<li>请求数，22 -&gt; 7，减少了<strong>68%</strong></li>
<li>传输容量，1.3M -&gt; 745K，减少了<strong>44%</strong></li>
<li>Load时间，2.64s -&gt; 1.10s，减少了<strong>58%</strong></li>
</ul>
<h3 id="Hexo（官方主题Landscape"><a href="#Hexo（官方主题Landscape" class="headerlink" title="Hexo（官方主题Landscape)"></a>Hexo（官方主题<a href="https://github.com/hexojs/hexo-theme-landscape" target="_blank" rel="noopener">Landscape</a>)</h3><p><img src="http://cdn.sinacloud.net/woodysblog/blog-opt/hexo-request.png" alt="Hexo首页加载情况"></p>
<h3 id="WordPress（2016年官方主题twenty-sixteen）"><a href="#WordPress（2016年官方主题twenty-sixteen）" class="headerlink" title="WordPress（2016年官方主题twenty-sixteen）"></a>WordPress（2016年官方主题twenty-sixteen）</h3><p><img src="http://cdn.sinacloud.net/woodysblog/blog-opt/wp-request.png" alt="WordPress首页加载情况"></p>
<hr>
<p>从WordPress迁到Hexo，其实很简单。</p>
<h2 id="1-导出WordPress数据"><a href="#1-导出WordPress数据" class="headerlink" title="1. 导出WordPress数据"></a>1. 导出WordPress数据</h2><p>仪表盘（wp-admin） -&gt; 工具 -&gt; 导出</p>
<p><img src="http://cdn.sinacloud.net/woodysblog/blog-opt/wp-export.png" alt="&quot;WordPress数据导出&quot;"></p>
<h2 id="2-搭建Hexo"><a href="#2-搭建Hexo" class="headerlink" title="2. 搭建Hexo"></a>2. 搭建Hexo</h2><p>i.安装Node.js、npm<br>ii.安装Hexo</p>
<pre><code>npm install -g hexo-cli 
</code></pre><p>iii. Hexo初始化</p>
<pre><code>hexo init &lt;folder&gt; // 初始化某个目录  
cd &lt;folder&gt; // 进入该目录    
npm install // 安装所需npm依赖文件
</code></pre><h2 id="3-WordPress到Hexo的迁移"><a href="#3-WordPress到Hexo的迁移" class="headerlink" title="3.WordPress到Hexo的迁移"></a>3.WordPress到Hexo的迁移</h2><p>i.安装迁移插件</p>
<pre><code>npm install hexo-migrator-WordPress --save
</code></pre><p>ii.把WordPress数据导出文件放进Hexo的安装目录<br>iii.执行命令迁移文章：source是数据导出文件</p>
<pre><code>hexo migrate wordpress &lt;source&gt;
</code></pre><h2 id="4-媒体文件存在哪？"><a href="#4-媒体文件存在哪？" class="headerlink" title="4. 媒体文件存在哪？"></a>4. 媒体文件存在哪？</h2><p>虽然很方便的迁移了所有WP文章，但是我们可以发现，文章中有些格式可能会包括很多div等多余的html标签，需要人肉调整。</p>
<p>然后文中引用的媒体文件尤其是图片，还在使用WP数据库中的文件，假如我想彻底脱离WP，我需要把这些媒体资源整理出来，那么问题来了，存在哪？</p>
<p>目前我在用新浪云的<a href="http://open.sinastorage.com" target="_blank" rel="noopener">云存储SCS</a>服务，访问速度很快，按访问量计费，不过目前像我的博客访问量不大，基本免费。</p>
<p>新浪云存储SCS服务的价格详情<a href="http://www.sinacloud.com/index/price.html" target="_blank" rel="noopener">传送门 &gt;&gt;</a></p>
<p>另外也可以考虑：</p>
<p><a href="https://bce.baidu.com/product/bos.html" target="_blank" rel="noopener">百度云BOS</a>，度厂很多内部产品线都在使用，按需计费，不过我没使用过，不清楚具体收费情况怎样，感兴趣的朋友可以来<a href="https://bce.baidu.com/doc/Pricing/BOS.html" target="_blank" rel="noopener">价格表这儿</a>看看。</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://hexo.io/zh-cn/docs/migration.html" target="_blank" rel="noopener">Hexo官网</a></li>
<li><a href="https://hexo.io/zh-cn/docs/migration.html" target="_blank" rel="noopener">Hexo迁移文档</a>：RSS/Jekyll/Octopress/WordPress/Joomla</li>
<li><a href="https://bce.baidu.com/index.html" target="_blank" rel="noopener">百度开放云</a></li>
<li><a href="http://www.sinacloud.com" target="_blank" rel="noopener">新浪云</a></li>
</ul>

		</div>

		<footer>
			
	<section class="post__meta post__tag">
		
			<a href="/blog/tags/tech/">tech</a>
		
			<a href="/blog/tags/blog/">blog</a>
		
	</section>

			<section class="post__meta">
	<a href="/blog/donate.html" title="码字辛苦求打赏" class="u-clearfix wgt-shield">
		<span class="title">Donate</span>
		<span class="desc">￥￥￥</span>
	</a>

	<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" 
		title="知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议" class="u-clearfix wgt-shield">
		<span class="title">License</span>
		<span class="desc">CC BY-NC-SA</span>
	</a>
</section>
		</footer>

		
			<section id="wgt-comment" class="wgt-comment" data-permalink="/archives/blog-opt-wp-hexo/">
	<div id="comment-list">
		<article>暂无数据</article>
	</div>

	<form id="comment-form" class="comment__form">
		<input type="text" 
			name="author" 
			class="comment--mb10 comment__contentAuthor" 
			required 
			max-length="15"
			placeholder="这里输入你的名字" />
		<input type="text" 
			name="content" 
			class="comment--mb10 comment__contentInput" 
			required
			max-length="150"
			placeholder="这里输入评论内容" />
		<input type="hidden" name="parentId" id="comment-reply-id" />
		<!-- <label>
			<span>Email: </span>
			<input type="email" name="email">
		</label>
		<label>
			<span>website: </span>
			<input type="url" name="website">
		</label> -->

		<footer class="comment--clearfix comment--tRight" id="comment-form-footer">
			<a id="comment-box-submit" class="comment--fontsizeMeta comment--colorAccent comment__submitReply">加上去</a>
		</footer>
	</form>
</section>
		
	</div>
</article>

		</div>
		
	</div>
</div>

<link rel="stylesheet" href="/blog//build/css/iconfont_201704181501.css">


	<footer class="wgt-footer" id="footer">
	<div class="center">
		<p>
		&copy; 
		2014-2018

		
			<a href="/blog/">Yuying Wu</a>
		

		&nbsp;|&nbsp;
		<a href="https://github.com/YuyingWu"><i class="iconfont icon-github"></i> Github</a>&nbsp;|&nbsp;
<a href="http://www.weibo.com/wuyuying1128"><i class="iconfont icon-weibo"></i> 微博</a>&nbsp;|&nbsp;
<a href="http://www.douban.com/people/wuyuying1128/"><i class="iconfont icon-douban"></i>豆瓣</a>
		</p>
		<p>
			京ICP备16019960号&nbsp;
			Powered by 
			<a href="https://hexo.io" target="_blank">Hexo</a>, using theme 
			<a href="https://github.com/YuyingWu/hexo-theme-fresh" 
				target="_blank">Fresh</a>
		.</p>
	</div>
</footer>



<script src="http://cdn1.lncld.net/static/js/2.1.4/av-min.js"></script>
<script src="http://apps.bdimg.com/libs/zepto/1.1.4/zepto.min.js"></script>
<script src="http://cdn.bootcss.com/moment.js/2.18.1/moment.min.js"></script>
<script src="/blog//build/js/comment.js"></script>


<script src="//sinacloud.net/woodysblog/statics/lazyload.js"></script>
<script>
	new LazyLoad({
		threshold: 600
	});
</script>
<script src="/blog//dist/base.js"></script>
</body>
</html>