

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="description" content="">

	
<link rel="stylesheet" href="/blog//css/post.css">


	<title>如何更愉快地使用rem —— 别说你懂CSS相对单位 - 小伍</title>

	<!--[if lte IE 8]>
        <script>
            (function(){
                var e="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
                i=e.length;
                while(i--){document.createElement(e[i])}
             })();
        </script>
    <![endif]-->
</head>
<body class="page-post">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-74424222-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-74424222-3');
</script>


<!--[if lte IE 8]>
    <p class="browserupgrade">貌似你还在用<strong>低版本IE</strong>浏览器喔~ 为了更好的体验，去下载一个<a href="https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=0&rsv_idx=1&tn=baidu&wd=chrome&rsv_pq=c275ed8c0000204b&rsv_t=b404%2BiFxvZfvn%2FqqBMyJKwHyShj%2FipQgL7TfJsGKrHxZhoWCUisbVukJsNw&rqlang=cn&rsv_enter=1&rsv_sug3=6&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&inputT=891&rsv_sug4=891" target="_blank">最新版Chrome</a>吧 ：）</p>
<![endif]-->


	<header>
	<section class="u-clearfix header__container">
		<nav class="grid-r header__nav--list">
			
				<a href="/blog/">Blog</a>
			
				<a href="/blog/archives/">Archive</a>
			
				<a href="/blog/about.html">About</a>
			
		</nav>

		<h1 class="grid">
			<a href="/">小伍</a>
		</h1>
	</section>
</header><!-- /header -->


<div id="content">
	<div class="center">
		<div class="main-col">
			
	
	<article class="article article-detail post article-post">
	<div class="post-content">
		<header>
			
	
		
			<h1 class="title" data-role="articleTitle">如何更愉快地使用rem —— 别说你懂CSS相对单位</h1>
		
	

			<div class="post__meta">
	<time datetime="2018-07-05T05:28:01.000Z">2018-07-05</time>

	
</div>
			
		</header>

		<div class="entry">
			<aside class="wgt-toc">
				<header>
					<p><i class="iconfont icon-folder"></i>&nbsp;文章大纲</p>
				</header>
				<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-em和rem"><span class="toc-number">1.</span> <span class="toc-text">2.2 em和rem</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-对font-size使用rem"><span class="toc-number">1.1.</span> <span class="toc-text">2.2.2 对font-size使用rem</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#可用性：对font-size使用相对长度单位"><span class="toc-number">1.1.1.</span> <span class="toc-text">可用性：对font-size使用相对长度单位</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-停止使用像素思维去思考"><span class="toc-number">2.</span> <span class="toc-text">2.3 停止使用像素思维去思考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-设置一个合理的字号默认值"><span class="toc-number">2.1.</span> <span class="toc-text">2.3.1 设置一个合理的字号默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-让这个面板变得“响应式”"><span class="toc-number">2.2.</span> <span class="toc-text">2.3.2 让这个面板变得“响应式”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-调整单个组件的大小"><span class="toc-number">2.3.</span> <span class="toc-text">2.3.3 调整单个组件的大小</span></a></li></ol></li></ol>
			</aside>
			<p>前段时间试译了Keith J.Grant的CSS好书《CSS in Depth》，其中的第二章<a href="https://livebook.manning.com/#!/book/css-in-depth/chapter-2" target="_blank" rel="noopener">《Working with relative units》</a>，书中对relative units的讲解和举例可以说相当全面，看完之后发现自己并不太懂CSS相对单位，也希望分享给大家，所以有了这个译文系列。（若有勘误或翻译建议，欢迎 <a href="https://github.com/YuyingWu/blog/tree/dev/source/_posts" target="_blank" rel="noopener">Github PR</a> ^_^）</p>
<p>《别说你懂CSS相对单位》系列译文：</p>
<ul>
<li><a href="/blog/archives/css-in-depth-relative-units/">如何更愉快地使用em</a></li>
<li><a href="/blog/archives/css-in-depth-stop-thinking-in-px/">如何更愉快地使用rem</a> [本文]</li>
<li><a href="/blog/archives/css-in-depth-viewport-relative-units/">视口相关单位的应用</a></li>
<li><a href="/blog/archives/css-in-depth-unitless-number/">无单位数字和行高</a></li>
<li><a href="/blog/archives/css-in-depth-css-variables/">CSS自定义属性</a></li>
</ul>
<p>本文对应的章节目录：</p>
<ul>
<li>2.2 em和rem<ul>
<li>2.2.2 对font-size使用rem<ul>
<li>可用性：对font-size使用相对长度单位</li>
</ul>
</li>
</ul>
</li>
<li>2.3 停止使用像素思维去思考<ul>
<li>2.3.1 设置一个合理的字号默认值</li>
<li>2.3.2 让这个面板变得“响应式”</li>
<li>2.3.3 调整单个组件的大小</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2-2-em和rem"><a href="#2-2-em和rem" class="headerlink" title="2.2 em和rem"></a>2.2 em和rem</h2><h3 id="2-2-2-对font-size使用rem"><a href="#2-2-2-对font-size使用rem" class="headerlink" title="2.2.2 对font-size使用rem"></a>2.2.2 对font-size使用rem</h3><p>当浏览器解析HTML文档时，创建了一个用来代表页面元素的集合，叫做DOM（文档对象模型，Document Object Model）。树状结构，每一个节点代表一个元素。<code>&lt;html&gt;</code>就是顶层节点（根节点），在下面的是它的子节点<code>&lt;head&gt;</code>和<code>&lt;body&gt;</code>，再往下就是它们的子节点，还有后代节点，如此类推。</p>
<p>根节点是文档里所有其他元素的祖先。它有一个特别的伪类（pseudo-class）选择器（:root），在样式表里可以用这个选择器表示。使用带类名的类型选择器html，或者直接用标签选择器，效果是一样的。</p>
<p>rem是根em（root em）的缩写。rem是和根元素关联的，不依赖当前元素。不管你在文档中的什么地方使用这个单位，1.2rem的计算值是相等的，等于1.2倍的根元素的字号大小。下面的示例代码中，声明了根元素的字号大小，并在嵌套的无序列表中使用rem声明字号大小。</p>
<p>[ 代码片段 2.10 使用rem声明字号大小 ]</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;                    1</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;          2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">8rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1 伪类 :root 等价于 html 选择器</li>
<li>2 使用浏览器的默认字号大小（16px）</li>
</ul>
<p>在这个示例里，根字号大小是浏览器的默认大小16px（根元素的1em等于浏览器的默认字号大小）。无序列表的字号大小为0.8rem，计算结果是12.8px。因为这只跟根元素相关，尽管你在列表里嵌套了列表，嵌套子列表的字号仍然保持不变。</p>
<blockquote>
<h4 id="可用性：对font-size使用相对长度单位"><a href="#可用性：对font-size使用相对长度单位" class="headerlink" title="可用性：对font-size使用相对长度单位"></a>可用性：对font-size使用相对长度单位</h4><p>一些浏览器会提供给用户2种方式定制文字的大小：缩放和设置一个默认的字号大小。通过按Ctrl+或者Ctrl-，用户可以对页面进行缩放。这在视觉上会把整个页面的文字或图片（其实是所有元素）都放大或缩小了。在一些浏览器，这个改变只针对当前的标签页且是临时的，不会影响到新开的标签页。 </p>
<p>设置默认字号大小，会有点不一样。不仅仅是设置的入口比较难找（一般在浏览器的设置页），而且这个设置是永久的，直到用户把默认值还原。值得注意的是，这个设置对使用px或其他绝对单位定义的字号大小无效。因为默认字号大小对一些用户是必要的，尤其是弱视的群体，你应该用相对单位或百分比来定义字号的大小。</p>
</blockquote>
<p>rem简化了很多em带来的复杂度。事实上，rem提供了一个在px和em间的相对单位折中解决方案，而且更易于使用。那么，是不是意味着你应该在对所有元素都使用rem，去掉其他长度单位呢？当然不是。</p>
<p>在CSS的世界里，这个答案通常是，看情况。rem只是你的工具箱中的其中一个。掌握CSS很重要的一点，就是学会分辨在什么场景下该使用什么工具。我的选择是，对<code>font-size</code>使用rem，对border使用px，对其他的度量方式如<code>padding</code>、<code>margin</code>、<code>border-radius</code>等使用em。然而在必要时，需要声明容器的宽度的话，我更喜欢使用百分比。</p>
<p>这样，字号大小就变得可预测，而当其他因素影响到元素的字号大小时，你也可以借助em去缩放元素的padding和margin。在border上使用像素是很合适的，尤其当你想要一根漂亮的线的时候。以上就是我对不同属性使用不同单位的理想方案，不过我要再次声明，这些都是工具，在某些特定场景下，利用不同的工具可能取到更好的效果。</p>
<blockquote>
<p>提示  </p>
<p>当你不确定的时候，对<code>font-size</code>使用rem，对<code>border</code>使用px，以及对其他大多数属性使用em。</p>
</blockquote>
<h2 id="2-3-停止使用像素思维去思考"><a href="#2-3-停止使用像素思维去思考" class="headerlink" title="2.3 停止使用像素思维去思考"></a>2.3 停止使用像素思维去思考</h2><p>把页面的根元素字号大小定义为0.625em或者62.5%，在最近几年来，这样的用法很常见，这是一种模式，或者更贴切地说，这是一种反模式。</p>
<p>[ 代码片段 2.11 反模式：全局地把font-size定义为10px ]</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">625em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我并不推荐这种用法。这个用法把浏览器默认的字号大小16px缩小到10px。这样做的好处是简化了计算，如果设计师告诉你字号大小应该是14px，那你可以很轻易地计算出1.4rem，毕竟我们还是在使用相对单位。</p>
<p>一开始，这看起来很方便，但事实上这样的实现方式有两个问题。第一，强制你写了很多重复的样式代码。10px对于大多数文本来说太小了，你需要在整个页面中，来来回回地覆盖它。你会发现，自己把一段段落（<code>&lt;p&gt;</code>）的字号大小声明为1.4rem，然后又把导航（<code>&lt;nav&gt;</code>）的链接字号大小声明为1.4rem，样式代码中还有很多这样的用法。这样引入了更高的错误风险，当你需要修改时发现代码耦合程度比较高，同时也会让样式文件变大。</p>
<p>第二个问题是，你这么做的时候，其实你还是在用像素的思维在思考。虽然在代码里写的是<code>1.4rem</code>，但是在你的脑子里，其实还是想的是<code>14px</code>。在响应式网页开发中，你应该学会适应那些“模糊”的值。1.2em实际等于多少像素，并不重要，你只需要知道这是比继承的字号大一点点，那就足够了。而且，如果在屏幕上这不是你想要的效果，那就改吧。这是需要时间实验和试错的，但事实上，使用px的时候我们也需要这样做。（在第13章，我们会有更具体的方式来优化这个实现方式。）</p>
<p>当使用em时，我们很容易陷入纠结，这个值转化成像素值会是多少呢？尤其对于字号大小。你一直在乘和除以em值，这样你很快就会疯掉了。相反，我希望你可以接受一项挑战，尝试培养先开始使用em的习惯。如果你习惯使用像素，那转成em是需要一定时间和练习的，但相信我，这很值得。</p>
<p>这不是在说你再也不使用像素了。如果你跟一个设计师合作，你可能需要用更精确的像素值去沟通，这没问题的。在项目的开始，你需要声明一个基础的字号大小（通常是对标题或者标注的常用字号）。使用绝对值去描述大小，往往会更加容易。</p>
<p>转换成rem会有计算环节，那就让计算器去忙吧（通常我会在Mac电脑上按<code>cmd+空格</code>，在Spotlight里计算）。首先在根元素上声明根字号大小，从那开始，使用像素应该是例外的情况，而不是常态。</p>
<p>在这章内容里，我还是会持续地聊起像素。这会有助于我解释相对单位的工作原理，同时也能帮助你培养计算em值的习惯。在这章之后，我基本会使用相对单位来讨论字号的大小。</p>
<h3 id="2-3-1-设置一个合理的字号默认值"><a href="#2-3-1-设置一个合理的字号默认值" class="headerlink" title="2.3.1 设置一个合理的字号默认值"></a>2.3.1 设置一个合理的字号默认值</h3><p>先假设你想把默认字号设定为14px。把10px设定为基准值，再在页面中去覆盖它的写法，我们不推荐这种写法，相反，你应该在根元素上直接声明一个值。<br>在这个代码片段里，目标字号值是继承的，浏览器的默认值16px，那么14/16 = 0.875。</p>
<p>把下面的代码添加到一个新的样式表的最上面，我们会在这上面添加其他代码。这里设定根元素（<code>&lt;html&gt;</code>）的默认字号大小。</p>
<p>[ 代码片段 2.12 设定正确的默认字号大小 ]</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;                    1</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.875em</span>;      2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1 或者使用 HTML 选择器</li>
<li>2 14/16（期望值px / 继承值px）等于0.875</li>
</ul>
<p>现在，你的期望基准字号14px对整个页面的元素有效，你不需要在其他地方重新声明了。你只需要在设计不一样的地方修改成新的字号，譬如标题。</p>
<p>我们一起来创建图2.7那样的面板吧！你创建的这个面板，基于14px字号，使用相对单位。</p>
<p>[ 图 2.7 使用相对单位和继承字号的面板 ]</p>
<p><img src="http://sinacloud.net/woodysblog/css-in-depth/02fig07_alt.jpg" alt="&quot;图 2.7&quot;"></p>
<p>下面是模板，加到你的页面吧。</p>
<p>[ 代码片段 2.13 面板的模板 ]</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> class=<span class="string">"panel"</span>&gt;</span><br><span class="line">  &lt;h2&gt;Single-origin&lt;/h2&gt;</span><br><span class="line">  &lt;<span class="keyword">div</span> class=<span class="string">"panel-body"</span>&gt;</span><br><span class="line">    We have built partnerships <span class="keyword">with</span> small farms around <span class="keyword">the</span> world <span class="built_in">to</span></span><br><span class="line">    hand-select beans <span class="keyword">at</span> <span class="keyword">the</span> peak <span class="keyword">of</span> season. We <span class="keyword">then</span> carefully roast</span><br><span class="line">    <span class="keyword">in</span> &lt;<span class="keyword">a</span> href=<span class="string">"/batch-size"</span>&gt;small batches&lt;/<span class="keyword">a</span>&gt; <span class="built_in">to</span> maximize their</span><br><span class="line">    potential.</span><br><span class="line">  &lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure>
<p>下一段代码是样式的。你会在<code>padding</code>和<code>border-radius</code>使用<code>em</code>，标题的字号使用<code>rem</code>，以及<code>border</code>使用<code>px</code>。把下面代码添加到你的样式表吧。</p>
<p>[ 代码片段 2.14 使用相对单位的面板 ]</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1em</span>;                    1</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.5em</span>;            1</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span>;          2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panel</span> &gt; <span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span>;                   3</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8rem</span>;               4</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;               4</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;       4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1 对padding和border-radius使用em</li>
<li>2 用1px定义细边框</li>
<li>3 把面板上面多余的空间去掉，更多解释看第3章</li>
<li>4 用rem控制标题的字号大小</li>
</ul>
<p>这段代码给面板添加了一个细边框以及定义了标题的样式。我希望标题的字号小一点，但要加粗和全是大写。（你可以根据自己的设计，把字号改大点或者使用不同的排版方式）</p>
<p>第二个选择器<code>&gt;</code>是一个直接后代组合选择符（direct descendant combinator），它代表的是<code>.panel</code>下的子元素<code>h2</code>。更完整的选择器和组合选择符的索引可以看附录A。</p>
<p>在代码片段2.13中，为了更清晰看到效果，我给<code>body</code>添加了一个类<code>panel-body</code>，不过你会发现，在你自己的代码里是不需要的。因为这个元素从根元素上继承了字号大小，它已经是你想要看到的那样。</p>
<h3 id="2-3-2-让这个面板变得“响应式”"><a href="#2-3-2-让这个面板变得“响应式”" class="headerlink" title="2.3.2 让这个面板变得“响应式”"></a>2.3.2 让这个面板变得“响应式”</h3><p>我们再更深入地看看这个问题。你可以根据屏幕尺寸的变化，添加媒体查询来改变基础字号大小，这可以令面板在不同尺寸的屏幕下，有不同的大小变化。（见图2.8）</p>
<p>[ 图 2.8 在不同屏幕大小的响应式面板：300px（左上角），800px（右上角），1440px（下面） ]</p>
<p><img src="http://sinacloud.net/woodysblog/css-in-depth/02fig08_alt.jpg" alt="&quot;图 2.8&quot;"></p>
<blockquote>
<p>媒体查询（media query） —— 通过<code>@media</code>规则来声明样式，在不同的屏幕尺寸或者媒体类型（如打印机或显示器）下，触发对应的样式控制。这是响应式设计的关键要素。详情看代码片段2.15的这个例子，我在第8章会更深入的讨论媒体查询这个话题。</p>
</blockquote>
<p>为了实现上面说的效果，把你的样式代码改成这样。</p>
<p>[ 代码片段 2.15 ]</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;                            1</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.75em</span>;               1</span><br><span class="line">&#125;                                  1</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (min-width: 800px) &#123;        2</span><br><span class="line">  :root &#123;                          2</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0.875em</span>;            2</span><br><span class="line">  &#125;                                2</span><br><span class="line">&#125;                                  2</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (min-width: 1200px) &#123;       3</span><br><span class="line">  :root &#123;                          3</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1em</span>;                3</span><br><span class="line">  &#125;                                3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1 针对所有屏幕，但是在更大的屏幕会被覆盖</li>
<li>2 针对比800px更宽的屏幕，覆盖默认样式代码</li>
<li>3 针对比1200px更宽的屏幕，覆盖以上两套样式代码</li>
</ul>
<p>第一套样式规则，声明了小屏幕中的默认字号大小，这是我们想要在较小的屏幕上看到的字号大小。然后使用媒体查询，把800px和1200px分别作为两个分水岭逐级增加字号的大小，覆盖掉默认的代码。</p>
<p>针对页面的根元素使用这些字号大小，响应式地重新定义em和rem对应的值，从而达到响应改变整个页面的效果。尽管你没有直接对这个面板做任何的修改，它现在是响应式的。在小屏幕上，譬如一台手机，字号大小会被渲染成更小的（12px）。然后，在更大的屏幕上，宽大于800px和大于1200px的，组件的字号会分别放大到14px和16px。改变你的浏览器窗口，看看组件是怎么变化的吧。</p>
<p>如果你在整个页面中像这样严格使用相对单位，整个页面会随着视窗大小放大和缩小。这会是你的响应式策略里很重要的一部分。上面的2套媒体查询声明代码，可以帮助你节省在页面的其他部分使用媒体查询的额外代码。不过，如果你在元素中声明的字号大小是以像素为单位的，那就不会产生任何效果了。</p>
<p>类似地，如果你的老板或者客户觉得现在网站的字号太小或者太大，你随时可以做到通过修改一行代码影响到全局的元素，这项改变会影响到页面上的其他元素，不费吹灰之力。</p>
<h3 id="2-3-3-调整单个组件的大小"><a href="#2-3-3-调整单个组件的大小" class="headerlink" title="2.3.3 调整单个组件的大小"></a>2.3.3 调整单个组件的大小</h3><p>你也可以通过使用em缩放页面上的一个独立组件。有时，你可能会需要界面上的某些组件可以有个大号的版本。在我们的面板上这么做吧，首先你需要给面板添加一个类名<code>large</code>：<code>&lt;div class=&quot;panel large&quot;&gt;</code>。</p>
<p>在图2.9，我们看到了面板的普通版和大号版的比较。效果类似响应式面板，但是两种尺寸是可以同时在同一个页面中使用的。</p>
<p>[ 图 2.9 在一个页面上的普通尺寸面板和大号面板 ]</p>
<p><img src="http://sinacloud.net/woodysblog/css-in-depth/02fig09_alt.jpg" alt="&quot;图 2.9&quot;"></p>
<p>我们来对面板的字号声明方式做一些小的修改。你还是在使用相对单位，但需要调整它们的基准值。第一点，给每个面板的父元素字号大小的定义<code>font-size: 1rem</code>。这里指的是，不管在什么地方使用这个面板，每个面板的字号大小是一个确定值。</p>
<p>第二点，使用em重新声明标题的字号大小，而不使用rem，这样标题就可以和刚才声明的父元素字号1rem关联起来。下面是对应的代码，更新下你的样式表代码吧。</p>
<p>[ 代码片段 2.16 创建一个面板的大号版本 ]</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;               1</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panel</span> &gt; <span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8em</span>;              2</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1 给组件声明确定的字号大小</li>
<li>2 其他元素的字号大小用em和父元素字号关联</li>
</ul>
<p>这些修改看起来并没有影响面板的样式，但是现在你已经准备好了，做一个大号的面板只需要修改一小行代码。你需要做的，就是把父元素字号大小改写成1rem以外的一个值。因为其他元素的计算方式都依赖父元素的字号大小，只要修改它，整个面板的相关尺寸都会发生改变。添加下一个CSS代码片段到你的样式表，定义一个大号面板吧。</p>
<p>[ 代码片段 2.17 利用一行代码放大整个面板 ]</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span><span class="selector-class">.large</span> &#123;               <span class="number">1</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1 组合选择器指向同时有panel类和large类的元素</li>
</ul>
<p>现在，你可以给普通面板添加<code>class=&quot;panel&quot;</code>和给大号面板添加<code>class=&quot;panel large&quot;</code>。类似地，你也可以定义一个小号版本，只需要把父元素的字号设得比1rem小。如果这个面板是一个更复杂的组件，包含多种字号大小或padding，也只需要一个声明就可以重置大小，只要所有的子元素都是使用em声明的。</p>
<hr>
<p>《别说你懂CSS相对单位》系列译文：</p>
<ul>
<li><a href="/blog/archives/css-in-depth-relative-units/">如何更愉快地使用em</a></li>
<li><a href="/blog/archives/css-in-depth-stop-thinking-in-px/">如何更愉快地使用rem</a> [本文]</li>
<li><a href="/blog/archives/css-in-depth-viewport-relative-units/">视口相关单位的应用</a></li>
<li><a href="/blog/archives/css-in-depth-unitless-number/">无单位数字和行高</a></li>
<li><a href="/blog/archives/css-in-depth-css-variables/">CSS自定义属性</a></li>
</ul>
<p>章节：</p>
<ul>
<li>2.1 相对单位值的魔力<ul>
<li>2.1.1 完美像素设计（pixel-perfect design）的挣扎</li>
<li>2.1.2 完美像素网页的终结</li>
<li>像素（pixel）、点（point）和pc（pica）</li>
</ul>
</li>
<li>2.2 em和rem<ul>
<li>2.2.1 对font-size使用em<ul>
<li>当我们在一个元素内用em同时声明font-size和其他属性</li>
<li>字号收缩问题</li>
</ul>
</li>
<li>2.2.2 对font-size使用rem<ul>
<li>可用性：对font-size使用相对长度单位</li>
</ul>
</li>
</ul>
</li>
<li>2.3 停止使用像素思维去思考<ul>
<li>2.3.1 设置一个合理的字号默认值</li>
<li>2.3.2 让这个面板变得“响应式”</li>
<li>2.3.3 调整单个组件的大小</li>
</ul>
</li>
<li>2.4 视口相关单位（viewport-relative units）<ul>
<li>CSS3</li>
<li>2.4.1 在font-size上使用vw</li>
<li>2.4.2 在font-size上使用calc()</li>
</ul>
</li>
<li>2.5 不带单位的数字（unitless number）和行高（line-height）</li>
<li>2.6 自定义属性（也叫“CSS变量”）<ul>
<li>2.6.1 动态改变自定义属性的值</li>
<li>2.6.2 通过JavaScript改变自定义属性的值</li>
<li>2.6.3 初探自定义属性</li>
</ul>
</li>
<li>总结</li>
</ul>
<blockquote>
<p>原著版权信息：</p>
<p>作者：Keith J.Grant<br>书籍：CSS in Depth<br>章节：<a href="https://livebook.manning.com/#!/book/css-in-depth/chapter-2" target="_blank" rel="noopener">Working with relative units</a>   </p>
</blockquote>
<hr>
<p>笔者 @Yuying Wu，前端爱好者 / 鼓励师 / 新西兰打工度假 / 铲屎官。目前就职于某大型电商的B2B前端团队。</p>
<p>感谢你读到这里，对上文若有任何疑问或建议，欢迎留言。</p>
<p>如果你和我一样喜欢前端，喜欢捣腾独立博客或者前沿技术，或者有什么职业疑问，欢迎关注我以及各种交流哈。</p>
<p>独立博客：<a href="http://wuyuying.com/">wuyuying.com</a><br>知乎ID：<a href="https://www.zhihu.com/people/yuying_wu/posts" target="_blank" rel="noopener">@Yuying Wu</a><br>Github：<a href="https://github.com/YuyingWu" target="_blank" rel="noopener">Yuying Wu</a></p>

		</div>

		<footer>
			
	<section class="post__meta post__tag">
		
			<a href="/blog/tags/front-end/">front-end</a>
		
			<a href="/blog/tags/css/">css</a>
		
	</section>

			<section class="post__meta">
	<a href="/blog/donate.html" title="码字辛苦求打赏" class="u-clearfix wgt-shield">
		<span class="title">Donate</span>
		<span class="desc">￥￥￥</span>
	</a>

	<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" 
		title="知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议" class="u-clearfix wgt-shield">
		<span class="title">License</span>
		<span class="desc">CC BY-NC-SA</span>
	</a>
</section>
		</footer>

		
			<section id="wgt-comment" class="wgt-comment" data-permalink="/archives/css-in-depth-stop-thinking-in-px/">
	<div id="comment-list">
		<article>暂无数据</article>
	</div>

	<form id="comment-form" class="comment__form">
		<input type="text" 
			name="author" 
			class="comment--mb10 comment__contentAuthor" 
			required 
			max-length="15"
			placeholder="这里输入你的名字" />
		<input type="text" 
			name="content" 
			class="comment--mb10 comment__contentInput" 
			required
			max-length="150"
			placeholder="这里输入评论内容" />
		<input type="hidden" name="parentId" id="comment-reply-id" />
		<!-- <label>
			<span>Email: </span>
			<input type="email" name="email">
		</label>
		<label>
			<span>website: </span>
			<input type="url" name="website">
		</label> -->

		<footer class="comment--clearfix comment--tRight" id="comment-form-footer">
			<a id="comment-box-submit" class="comment--fontsizeMeta comment--colorAccent comment__submitReply">加上去</a>
		</footer>
	</form>
</section>
		
	</div>
</article>

		</div>
		
	</div>
</div>

<link rel="stylesheet" href="/blog//build/css/iconfont_201704181501.css">


	<footer class="wgt-footer" id="footer">
	<div class="center">
		<p>
		&copy; 
		2014-2019

		
			<a href="/blog/">Yuying Wu</a>
		

		&nbsp;|&nbsp;
		<a href="https://github.com/YuyingWu"><i class="iconfont icon-github"></i> Github</a> | 
<a href="http://wuyuying.com/blog/atom.xml" target="_blank">RSS</a>
		</p>
		<p>
			京ICP备16019960号&nbsp;
			Powered by 
			<a href="https://hexo.io" target="_blank">Hexo</a>, using theme 
			<a href="https://github.com/YuyingWu/hexo-theme-fresh" 
				target="_blank">Fresh</a>
		.</p>
	</div>
</footer>



<script src="http://cdn1.lncld.net/static/js/2.1.4/av-min.js"></script>
<script src="http://apps.bdimg.com/libs/zepto/1.1.4/zepto.min.js"></script>
<script src="http://cdn.bootcss.com/moment.js/2.18.1/moment.min.js"></script>
<script src="/blog//build/js/comment.js"></script>


<script src="//sinacloud.net/woodysblog/statics/lazyload.js"></script>
<script>
	new LazyLoad({
		threshold: 600
	});
</script>
<script src="/blog//dist/base.js"></script>
</body>
</html>