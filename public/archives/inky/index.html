

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="description" content="">

	
<link rel="stylesheet" href="/blog//css/post.css">


	<title>再手写table做EDM你就out啦 - 伍酱</title>

	<!--[if lte IE 8]>
        <script>
            (function(){
                var e="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
                i=e.length;
                while(i--){document.createElement(e[i])}
             })();
        </script>
    <![endif]-->
</head>
<body class="page-post">

<script async>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-74424222-1', 'auto');
	ga('send', 'pageview');
</script>


<!--[if lte IE 8]>
    <p class="browserupgrade">貌似你还在用<strong>低版本IE</strong>浏览器喔~ 为了更好的体验，去下载一个<a href="https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=0&rsv_idx=1&tn=baidu&wd=chrome&rsv_pq=c275ed8c0000204b&rsv_t=b404%2BiFxvZfvn%2FqqBMyJKwHyShj%2FipQgL7TfJsGKrHxZhoWCUisbVukJsNw&rqlang=cn&rsv_enter=1&rsv_sug3=6&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&inputT=891&rsv_sug4=891" target="_blank">最新版Chrome</a>吧 ：）</p>
<![endif]-->


	<header>
	<section class="u-clearfix header__container">
		<nav class="grid-r header__nav--list">
			
				<a href="/blog/">Blog</a>
			
				<a href="/blog/archives/">Archive</a>
			
				<a href="/blog/about.html">About</a>
			
		</nav>

		<h1 class="grid">
			<a href="/">伍酱</a>
		</h1>
	</section>
</header><!-- /header -->


<div id="content">
	<div class="center">
		<div class="main-col">
			
	
	<article class="article article-detail post article-post">
	<div class="post-content">
		<header>
			
	
		
			<h1 class="title" data-role="articleTitle">再手写table做EDM你就out啦</h1>
		
	

			<div class="post__meta">
	<time datetime="2016-05-18T10:20:18.000Z">2016-05-18</time>

	
</div>
			
		</header>

		<div class="entry">
			<aside class="wgt-toc">
				<header>
					<p><i class="iconfont icon-folder"></i>&nbsp;文章大纲</p>
				</header>
				<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#零、Inky简介"><span class="toc-number">1.</span> <span class="toc-text">零、Inky简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一、初始化步骤："><span class="toc-number">2.</span> <span class="toc-text">一、初始化步骤：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#I-安装fundation命令行工具"><span class="toc-number">2.1.</span> <span class="toc-text">I. 安装fundation命令行工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#II-初始化email开发环境"><span class="toc-number">2.2.</span> <span class="toc-text">II. 初始化email开发环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#III-本地运行-amp-调试"><span class="toc-number">2.3.</span> <span class="toc-text">III. 本地运行&amp;调试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IV-编译产出"><span class="toc-number">2.4.</span> <span class="toc-text">IV. 编译产出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、看个demo"><span class="toc-number">3.</span> <span class="toc-text">二、看个demo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、相关链接："><span class="toc-number">4.</span> <span class="toc-text">三、相关链接：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-demo："><span class="toc-number">4.1.</span> <span class="toc-text">1. demo：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-官网"><span class="toc-number">4.2.</span> <span class="toc-text">2. 官网</span></a></li></ol></li></ol>
			</aside>
			<p>工作期间，有接触过产品线发的<a href="http://baike.baidu.com/subview/1212416/8602812.htm#viewPageContent" target="_blank" rel="noopener">EDM</a>(Email Direct Marketing 电子邮件营销)，也就是大家经常说的“垃圾邮件”，可能发EDM的账户会进部分邮箱的黑名单，有时候我自己测试发的邮件可能要到垃圾箱找 &gt;3&lt; </p>
<p>不过EDM对于用户召回确实有非常显著的效果，偶尔来一发，也不失为一个重新激活目标用户的好办法。</p>
<p>不小心扯远了，由于邮件浏览器可能会过滤掉对外部的CSS或者JS文件的引用，加上对很多css特性不支持（邮件商的兼容性也是个坑），所以很多时候我们会把整个psd垂直分成几张图片，采用<strong>table</strong> + <strong>inline CSS</strong> + <strong>img</strong> 的方式去弄。</p>
<a id="more"></a>
<p>好处：</p>
<ul>
<li>简单方便，直接切图，塞进img的src就好了，切图+拼html一般不超过半小时；</li>
</ul>
<p>缺点：</p>
<ul>
<li>没有所谓的样式，只是个写满style属性的table，很凌乱不便维护；</li>
<li>纯图片拼接，对于一些默认屏蔽图片的邮件商，会白屏；图片太大，可能会加载比较久；</li>
<li>不符合响应式设计，没法做pc和移动页面自适应</li>
</ul>
<hr>
<p>前几天，项目评审时说要发EDM，我上网搜了下，偶然看到一篇文章，介绍<a href="http://foundation.zurb.com/emails/docs/index.html" target="_blank" rel="noopener">Inky</a>，一个号称支持响应式设计、兼容各个email client的邮件模板编译工具。</p>
<p>玩了一下下，发现还真的不错！看了下他们的<a href="https://github.com/zurb/foundation-emails/releases" target="_blank" rel="noopener">change log</a>，2013年11月的初版，今年3月都发了2.0啦，我是有多out，现在才知道，所以有了本文，希望更多不知道的小伙伴也可以enjoy这个方便的工具。</p>
<h2 id="零、Inky简介"><a href="#零、Inky简介" class="headerlink" title="零、Inky简介"></a>零、Inky简介</h2><p>Inky的技术栈：-&gt; <a href="http://foundation.zurb.com/emails/docs/zurb-stack.html" target="_blank" rel="noopener">传送门</a></p>
<ul>
<li>Gulp</li>
<li>Sass</li>
<li>Inlining</li>
<li>Panini</li>
<li>BrowserSync</li>
<li>Image Compression</li>
</ul>
<p>它能为我们带来什么？下面是自带的组件列表：</p>
<ul>
<li>The Grid：栅格化</li>
<li>Global Styles：核心的框架样式和Sass变量</li>
<li>Alignment Classes：对齐的CSS类（文本对齐和块元素对齐）</li>
<li>Buttons：一些默认样式、大小的button</li>
<li>Menu：菜单</li>
<li>Spacer：通过传入高度，自动生成定高的空白块</li>
<li>Wrapper：邮件正文100%宽的自定义背景块</li>
<li>Typography：默认排版（样式）</li>
<li>Visibility Classes：可以根据需求，设定在不同尺寸设备下（pc/wap）是否可见</li>
</ul>
<h2 id="一、初始化步骤："><a href="#一、初始化步骤：" class="headerlink" title="一、初始化步骤："></a>一、初始化步骤：</h2><p>传送门：<a href="http://foundation.zurb.com/emails/docs/sass-guide.html" target="_blank" rel="noopener">官方教程</a></p>
<h3 id="I-安装fundation命令行工具"><a href="#I-安装fundation命令行工具" class="headerlink" title="I. 安装fundation命令行工具"></a>I. 安装fundation命令行工具</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">npm</span> install --<span class="built_in">global</span> foundation-cli</span><br></pre></td></tr></table></figure>
<h3 id="II-初始化email开发环境"><a href="#II-初始化email开发环境" class="headerlink" title="II. 初始化email开发环境"></a>II. 初始化email开发环境</h3><p>进入你的项目目录内，执行初始化命令，如执行 cd my-project 后再执行：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foundation <span class="keyword">new</span> <span class="comment">--framework emails</span></span><br></pre></td></tr></table></figure>
<h3 id="III-本地运行-amp-调试"><a href="#III-本地运行-amp-调试" class="headerlink" title="III. 本地运行&amp;调试"></a>III. 本地运行&amp;调试</h3><p>执行完后，会自动打开浏览器窗口：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> start</span><br></pre></td></tr></table></figure>
<h3 id="IV-编译产出"><a href="#IV-编译产出" class="headerlink" title="IV. 编译产出"></a>IV. 编译产出</h3><p>当你在本地调得差不多之后，就可以产出压缩、样式inline的html文件啦</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">run</span><span class="bash"> build</span></span><br></pre></td></tr></table></figure>
<h2 id="二、看个demo"><a href="#二、看个demo" class="headerlink" title="二、看个demo"></a>二、看个demo</h2><p>下面看个demo，你就知道inky有多棒，不需要再手写table和inline css啦！</p>
<ul>
<li>container是大容器</li>
<li>row代表一行，满宽栅格是12</li>
<li>small代表小屏，large代表大屏，可以分别设置在不同屏幕下的栅格比例，达到响应式设计</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">subject: My Email Subject</span><br><span class="line">---</span><br><span class="line"><span class="tag">&lt;<span class="name">container</span> <span class="attr">class</span>=<span class="string">"marine-container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">row</span> <span class="attr">class</span>=<span class="string">"info-area"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">columns</span> <span class="attr">small</span>=<span class="string">"12"</span> <span class="attr">large</span>=<span class="string">"9"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h3</span>&gt;</span>View...<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>bala bala...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">columns</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">columns</span> <span class="attr">small</span>=<span class="string">"12"</span> <span class="attr">large</span>=<span class="string">"3"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"xxx"</span> <span class="attr">class</span>=<span class="string">"btn-guide"</span>&gt;</span>Click<span class="tag">&lt;<span class="name">br</span>/&gt;</span>For Guide<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">columns</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">row</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">columns</span> <span class="attr">small</span>=<span class="string">"12"</span> <span class="attr">large</span>=<span class="string">"12"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"person-area"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Search...<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://cdn.sinacloud.net/mailchimp/marine.jpg"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                    Kate Carter<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    Y...<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    mobile: xxxx<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    ...</span><br><span class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">columns</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">row</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">columns</span> <span class="attr">small</span>=<span class="string">"12"</span> <span class="attr">large</span>=<span class="string">"12"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>xxxx<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>xxxx<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 省略一万字 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">columns</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">row</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">container</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://cdn.sinacloud.net/woodysblog/inky/marine-pc-wap.jpg" alt="pc和wap对比图"></p>
<h2 id="三、相关链接："><a href="#三、相关链接：" class="headerlink" title="三、相关链接："></a>三、相关链接：</h2><h3 id="1-demo："><a href="#1-demo：" class="headerlink" title="1. demo："></a>1. demo：</h3><ul>
<li>原始文件：<a href="http://cdn.sinacloud.net/woodysblog/inky/marine-original.html" target="_blank" rel="noopener">marine-original.html</a>  </li>
<li>编译后文件：<a href="http://cdn.sinacloud.net/woodysblog/inky/marine-dist.html" target="_blank" rel="noopener">marine-dist.html</a></li>
</ul>
<h3 id="2-官网"><a href="#2-官网" class="headerlink" title="2. 官网"></a>2. 官网</h3><ul>
<li><a href="http://foundation.zurb.com/emails/docs/sass-guide.html" target="_blank" rel="noopener">Getting Started with Sass</a>  </li>
<li><a href="http://foundation.zurb.com/emails.html" target="_blank" rel="noopener">Foundation for Email</a></li>
</ul>

		</div>

		<footer>
			
	<section class="post__meta post__tag">
		
			<a href="/blog/tags/tech/">tech</a>
		
	</section>

			<section class="post__meta">
	<a href="/blog/donate.html" title="码字辛苦求打赏" class="u-clearfix wgt-shield">
		<span class="title">Donate</span>
		<span class="desc">￥￥￥</span>
	</a>

	<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" 
		title="知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议" class="u-clearfix wgt-shield">
		<span class="title">License</span>
		<span class="desc">CC BY-NC-SA</span>
	</a>
</section>
		</footer>

		
			<section id="wgt-comment" class="wgt-comment" data-permalink="/archives/inky/">
	<div id="comment-list">
		<article>暂无数据</article>
	</div>

	<form id="comment-form" class="comment__form">
		<input type="text" 
			name="author" 
			class="comment--mb10 comment__contentAuthor" 
			required 
			max-length="15"
			placeholder="这里输入你的名字" />
		<input type="text" 
			name="content" 
			class="comment--mb10 comment__contentInput" 
			required
			max-length="150"
			placeholder="这里输入评论内容" />
		<input type="hidden" name="parentId" id="comment-reply-id" />
		<!-- <label>
			<span>Email: </span>
			<input type="email" name="email">
		</label>
		<label>
			<span>website: </span>
			<input type="url" name="website">
		</label> -->

		<footer class="comment--clearfix comment--tRight" id="comment-form-footer">
			<a id="comment-box-submit" class="comment--fontsizeMeta comment--colorAccent comment__submitReply">加上去</a>
		</footer>
	</form>
</section>
		
	</div>
</article>

		</div>
		
	</div>
</div>

<link rel="stylesheet" href="/blog//build/css/iconfont_201704181501.css">


	<footer class="wgt-footer" id="footer">
	<div class="center">
		<p>
		&copy; 
		2014-2018

		
			<a href="/blog/">Yuying Wu</a>
		

		&nbsp;|&nbsp;
		<a href="https://github.com/YuyingWu"><i class="iconfont icon-github"></i> Github</a>&nbsp;|&nbsp;
<a href="http://www.weibo.com/wuyuying1128"><i class="iconfont icon-weibo"></i> 微博</a>&nbsp;|&nbsp;
<a href="http://www.douban.com/people/wuyuying1128/"><i class="iconfont icon-douban"></i>豆瓣</a>
		</p>
		<p>
			京ICP备16019960号&nbsp;
			Powered by 
			<a href="https://hexo.io" target="_blank">Hexo</a>, using theme 
			<a href="https://github.com/YuyingWu/hexo-theme-fresh" 
				target="_blank">Fresh</a>
		.</p>
	</div>
</footer>



<script src="http://cdn1.lncld.net/static/js/2.1.4/av-min.js"></script>
<script src="http://apps.bdimg.com/libs/zepto/1.1.4/zepto.min.js"></script>
<script src="http://cdn.bootcss.com/moment.js/2.18.1/moment.min.js"></script>
<script src="/blog//build/js/comment.js"></script>


<script src="//sinacloud.net/woodysblog/statics/lazyload.js"></script>
<script>
	new LazyLoad({
		threshold: 600
	});
</script>
<script src="/blog//dist/base.js"></script>
</body>
</html>