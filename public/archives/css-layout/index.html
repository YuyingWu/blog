

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="description" content="">

	
<link rel="stylesheet" href="/blog//css/post.css">


	<title>读书笔记 - CSS网站布局实录 - 伍酱</title>

	<!--[if lte IE 8]>
        <script>
            (function(){
                var e="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
                i=e.length;
                while(i--){document.createElement(e[i])}
             })();
        </script>
    <![endif]-->
</head>
<body class="page-post">

<script async>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-74424222-1', 'auto');
	ga('send', 'pageview');
</script>


<!--[if lte IE 8]>
    <p class="browserupgrade">貌似你还在用<strong>低版本IE</strong>浏览器喔~ 为了更好的体验，去下载一个<a href="https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=0&rsv_idx=1&tn=baidu&wd=chrome&rsv_pq=c275ed8c0000204b&rsv_t=b404%2BiFxvZfvn%2FqqBMyJKwHyShj%2FipQgL7TfJsGKrHxZhoWCUisbVukJsNw&rqlang=cn&rsv_enter=1&rsv_sug3=6&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&inputT=891&rsv_sug4=891" target="_blank">最新版Chrome</a>吧 ：）</p>
<![endif]-->


	<header>
	<section class="u-clearfix header__container">
		<nav class="grid-r header__nav--list">
			
				<a href="/blog/">Blog</a>
			
				<a href="/blog/archives/">Archive</a>
			
				<a href="/blog/about.html">About</a>
			
		</nav>

		<h1 class="grid">
			<a href="/">伍酱</a>
		</h1>
	</section>
</header><!-- /header -->


<div id="content">
	<div class="center">
		<div class="main-col">
			
	
	<article class="article article-detail post article-post">
	<div class="post-content">
		<header>
			
	
		
			<h1 class="title" data-role="articleTitle">读书笔记 - CSS网站布局实录</h1>
		
	

			<div class="post__meta">
	<time datetime="2017-02-07T04:42:07.000Z">2017-02-07</time>

	
</div>
			
		</header>

		<div class="entry">
			<aside class="wgt-toc">
				<header>
					<p><i class="iconfont icon-folder"></i>&nbsp;文章大纲</p>
				</header>
				<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、那些CSS布局的事儿"><span class="toc-number">1.</span> <span class="toc-text">一、那些CSS布局的事儿</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一列固定宽度"><span class="toc-number">1.1.</span> <span class="toc-text">一列固定宽度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一列宽度自适应"><span class="toc-number">1.2.</span> <span class="toc-text">一列宽度自适应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一列固定宽度居中"><span class="toc-number">1.3.</span> <span class="toc-text">一列固定宽度居中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#两列固定宽度"><span class="toc-number">1.4.</span> <span class="toc-text">两列固定宽度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#两列宽度自适应"><span class="toc-number">1.5.</span> <span class="toc-text">两列宽度自适应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#两列右列宽度自适应"><span class="toc-number">1.6.</span> <span class="toc-text">两列右列宽度自适应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#两列固定宽度居中"><span class="toc-number">1.7.</span> <span class="toc-text">两列固定宽度居中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三列中间列宽度自适应"><span class="toc-number">1.8.</span> <span class="toc-text">三列中间列宽度自适应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高度自适应"><span class="toc-number">1.9.</span> <span class="toc-text">高度自适应</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、一些经典问题"><span class="toc-number">2.</span> <span class="toc-text">二、一些经典问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-上下margin叠加问题"><span class="toc-number">2.1.</span> <span class="toc-text">1. 上下margin叠加问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-IE6下，float元素margin加倍"><span class="toc-number">2.2.</span> <span class="toc-text">2. IE6下，float元素margin加倍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-CSS效果：首字下沉"><span class="toc-number">2.3.</span> <span class="toc-text">3. CSS效果：首字下沉</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-图像裁剪问题"><span class="toc-number">2.4.</span> <span class="toc-text">4. 图像裁剪问题</span></a></li></ol></li></ol>
			</aside>
			<p>有些书籍，就算内容赶不上潮流，经典始终是经典，无论什么时候看，总会觉得有些新的感受新的收获。</p>
<p><a href="https://book.douban.com/subject/2175995/" target="_blank" rel="noopener">《CSS网站布局实录》</a>，这本书不厚，关于布局、文件流、盒模型等等的基础知识，却讲得非常清晰明白。<br><a id="more"></a></p>
<h2 id="一、那些CSS布局的事儿"><a href="#一、那些CSS布局的事儿" class="headerlink" title="一、那些CSS布局的事儿"></a>一、那些CSS布局的事儿</h2><h3 id="一列固定宽度"><a href="#一列固定宽度" class="headerlink" title="一列固定宽度"></a>一列固定宽度</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="一列宽度自适应"><a href="#一列宽度自适应" class="headerlink" title="一列宽度自适应"></a>一列宽度自适应</h3><p>宽度随着视窗宽度而改变</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="一列固定宽度居中"><a href="#一列固定宽度居中" class="headerlink" title="一列固定宽度居中"></a>一列固定宽度居中</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="两列固定宽度"><a href="#两列固定宽度" class="headerlink" title="两列固定宽度"></a>两列固定宽度</h3><p>使用浮动，使文件流下两个块级元素流到同一行</p>
<blockquote>
<p>文件流：body下的任意元素，根据其前后顺序和元素类型（块级、行内），组成一个个上下关系</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-2</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="两列宽度自适应"><a href="#两列宽度自适应" class="headerlink" title="两列宽度自适应"></a>两列宽度自适应</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-2</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意不要打满100%，会有两列之间的margin、padding、border等宽度影响</p>
<h3 id="两列右列宽度自适应"><a href="#两列右列宽度自适应" class="headerlink" title="两列右列宽度自适应"></a>两列右列宽度自适应</h3><p>左列宽度自适应同理。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.<span class="built_in">box</span><span class="number">-1</span>&#123;</span><br><span class="line">    <span class="built_in">width</span>: <span class="number">100</span>px;</span><br><span class="line">    <span class="built_in">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="built_in">box</span><span class="number">-2</span>&#123;</span><br><span class="line">    <span class="comment">// 自适应：不设宽度，不设定浮动属性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="两列固定宽度居中"><a href="#两列固定宽度居中" class="headerlink" title="两列固定宽度居中"></a>两列固定宽度居中</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layout</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: width1 + width2 (+ margin/borderWidth)</span><br><span class="line">    margin: <span class="number">0</span> auto;</span><br><span class="line">    &amp;:after&#123;</span><br><span class="line">        <span class="attribute">clear</span>: both; <span class="comment">// 清除浮动，不影响后面的文件流</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: width1;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-2</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: width2;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三列中间列宽度自适应"><a href="#三列中间列宽度自适应" class="headerlink" title="三列中间列宽度自适应"></a>三列中间列宽度自适应</h3><p><strong>左右列</strong>使用绝对定位，脱离文件流；<br><strong>中间列</strong>默认宽度100%，使用左右的margin来缩进左列和右列的宽度，达到自适应的效果。</p>
<p>如果定位不是针对整个视窗，父容器也用绝对定位，保证左右列绝对定位的参照元素是父元素。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-left</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>; <span class="comment">// 左对齐</span></span><br><span class="line">    <span class="attribute">width</span>: width1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-right</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>; <span class="comment">// 右对齐</span></span><br><span class="line">    <span class="attribute">width</span>: width2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-middle</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> width2 <span class="number">0</span> width1; <span class="comment">// margin: 上 右 下 左</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="高度自适应"><a href="#高度自适应" class="headerlink" title="高度自适应"></a>高度自适应</h3><p>单独设置某个元素的<code>height: 100%;</code>有时候会无效。原来，根据浏览器解析规则，<strong>子元素的高度是否能按百分比显示，取决于父元素的高度</strong>。</p>
<p>假设我们要实现一个自适应视窗高度的效果：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IE下，html元素默认高100%，但body不是</span></span><br><span class="line"><span class="comment">// Firefox下，html没有默认高100%</span></span><br><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.target</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二、一些经典问题"><a href="#二、一些经典问题" class="headerlink" title="二、一些经典问题"></a>二、一些经典问题</h2><h3 id="1-上下margin叠加问题"><a href="#1-上下margin叠加问题" class="headerlink" title="1. 上下margin叠加问题"></a>1. 上下margin叠加问题</h3><p><strong>表现</strong><br>当上下对象均有<code>margin</code>属性时，外边距会出现叠加问题，取较大值。</p>
<p><strong>原因</strong><br>CSS原始设计问题。作者考虑到段落的样式控制，假如多个<code>p</code>之间形成段落，每个p都具有margin属性，为解决排版距离不一致问题，设计出外边距叠加规则。</p>
<p>例外情况，margin叠加只针对<strong>块级元素</strong>，对<code>inline</code>、<code>浮动</code>、<code>绝对定位</code>的元素无效。</p>
<h3 id="2-IE6下，float元素margin加倍"><a href="#2-IE6下，float元素margin加倍" class="headerlink" title="2. IE6下，float元素margin加倍"></a>2. IE6下，float元素margin加倍</h3><p>可通过设定目标元素的<code>display: inline;</code>解决。</p>
<h3 id="3-CSS效果：首字下沉"><a href="#3-CSS效果：首字下沉" class="headerlink" title="3. CSS效果：首字下沉"></a>3. CSS效果：首字下沉</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.first-character</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: top;</span><br><span class="line">    &amp;:first-letter&#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">        <span class="attribute">float</span>: left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-图像裁剪问题"><a href="#4-图像裁剪问题" class="headerlink" title="4. 图像裁剪问题"></a>4. 图像裁剪问题</h3><ol>
<li>CSS的clip属性（对象需使用绝对定位）</li>
<li>父元素定宽高，使用<code>overflow:hidden</code>，局部展示子元素的图片内容</li>
<li>computed，通过计算，使图片自动水平、垂直居中</li>
<li>flex布局</li>
</ol>

		</div>

		<footer>
			
	<section class="post__meta post__tag">
		
			<a href="/blog/tags/css/">css</a>
		
			<a href="/blog/tags/reading/">reading</a>
		
	</section>

			<section class="post__meta">
	<a href="/blog/donate.html" title="码字辛苦求打赏" class="u-clearfix wgt-shield">
		<span class="title">Donate</span>
		<span class="desc">￥￥￥</span>
	</a>

	<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" 
		title="知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议" class="u-clearfix wgt-shield">
		<span class="title">License</span>
		<span class="desc">CC BY-NC-SA</span>
	</a>
</section>
		</footer>

		
			<section id="wgt-comment" class="wgt-comment" data-permalink="/archives/css-layout/">
	<div id="comment-list">
		<article>暂无数据</article>
	</div>

	<form id="comment-form" class="comment__form">
		<input type="text" 
			name="author" 
			class="comment--mb10 comment__contentAuthor" 
			required 
			max-length="15"
			placeholder="这里输入你的名字" />
		<input type="text" 
			name="content" 
			class="comment--mb10 comment__contentInput" 
			required
			max-length="150"
			placeholder="这里输入评论内容" />
		<input type="hidden" name="parentId" id="comment-reply-id" />
		<!-- <label>
			<span>Email: </span>
			<input type="email" name="email">
		</label>
		<label>
			<span>website: </span>
			<input type="url" name="website">
		</label> -->

		<footer class="comment--clearfix comment--tRight" id="comment-form-footer">
			<a id="comment-box-submit" class="comment--fontsizeMeta comment--colorAccent comment__submitReply">加上去</a>
		</footer>
	</form>
</section>
		
	</div>
</article>

		</div>
		
	</div>
</div>

<link rel="stylesheet" href="/blog//build/css/iconfont_201704181501.css">


	<footer class="wgt-footer" id="footer">
	<div class="center">
		<p>
		&copy; 
		2014-2018

		
			<a href="/blog/">Yuying Wu</a>
		

		&nbsp;|&nbsp;
		<a href="https://github.com/YuyingWu"><i class="iconfont icon-github"></i> Github</a>&nbsp;|&nbsp;
<a href="http://www.weibo.com/wuyuying1128"><i class="iconfont icon-weibo"></i> 微博</a>&nbsp;|&nbsp;
<a href="http://www.douban.com/people/wuyuying1128/"><i class="iconfont icon-douban"></i>豆瓣</a>
		</p>
		<p>
			京ICP备16019960号&nbsp;
			Powered by 
			<a href="https://hexo.io" target="_blank">Hexo</a>, using theme 
			<a href="https://github.com/YuyingWu/hexo-theme-fresh" 
				target="_blank">Fresh</a>
		.</p>
	</div>
</footer>



<script src="http://cdn1.lncld.net/static/js/2.1.4/av-min.js"></script>
<script src="http://apps.bdimg.com/libs/zepto/1.1.4/zepto.min.js"></script>
<script src="http://cdn.bootcss.com/moment.js/2.18.1/moment.min.js"></script>
<script src="/blog//build/js/comment.js"></script>


<script src="//sinacloud.net/woodysblog/statics/lazyload.js"></script>
<script>
	new LazyLoad({
		threshold: 600
	});
</script>
<script src="/blog//dist/base.js"></script>
</body>
</html>